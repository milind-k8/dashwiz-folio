@tailwind base;
@tailwind components;
@tailwind utilities;

/* Definition of the design system. All colors, gradients, fonts, etc should be defined here. 
All colors MUST be HSL.
*/

@layer base {
  :root {
    --background: oklch(0.9383 0.0042 236.4993);
    --foreground: oklch(0.3211 0 0);
    --card: oklch(1.0000 0 0);
    --card-foreground: oklch(0.3211 0 0);
    --popover: oklch(1.0000 0 0);
    --popover-foreground: oklch(0.3211 0 0);
    --primary: oklch(0.5420 0.1994 265.7543);
    --primary-foreground: oklch(1.0000 0 0);
    --secondary: oklch(0.9670 0.0029 264.5419);
    --secondary-foreground: oklch(0.4461 0.0263 256.8018);
    --muted: oklch(0.9846 0.0017 247.8389);
    --muted-foreground: oklch(0.5510 0.0234 264.3637);
    --accent: oklch(0.9119 0.0222 243.8174);
    --accent-foreground: oklch(0.3791 0.1378 265.5222);
    --destructive: oklch(0.6368 0.2078 25.3313);
    --destructive-foreground: oklch(1.0000 0 0);
    --success: oklch(0.6419 0.1430 164.2543);
    --success-foreground: oklch(1.0000 0 0);
    --warning: oklch(0.7583 0.1471 85.1247);
    --warning-foreground: oklch(1.0000 0 0);
    --border: oklch(0.9022 0.0052 247.8822);
    --input: oklch(0.9700 0.0029 264.5420);
    --ring: oklch(0.6397 0.1720 36.4421);
    --chart-1: oklch(0.7156 0.0605 248.6845);
    --chart-2: oklch(0.7875 0.0917 35.9616);
    --chart-3: oklch(0.5778 0.0759 254.1573);
    --chart-4: oklch(0.5016 0.0849 259.4902);
    --chart-5: oklch(0.4241 0.0952 264.0306);
    --sidebar: oklch(0.9030 0.0046 258.3257);
    --sidebar-foreground: oklch(0.3211 0 0);
    --sidebar-primary: oklch(0.6397 0.1720 36.4421);
    --sidebar-primary-foreground: oklch(1.0000 0 0);
    --sidebar-accent: oklch(0.9119 0.0222 243.8174);
    --sidebar-accent-foreground: oklch(0.3791 0.1378 265.5222);
    --sidebar-border: oklch(0.9276 0.0058 264.5313);
    --sidebar-ring: oklch(0.6397 0.1720 36.4421);

    --font-sans: Inter, sans-serif;
    --font-serif: Source Serif 4, serif;
    --font-mono: JetBrains Mono, monospace;
    --radius: 0.75rem;
    --shadow-2xs: 0px 1px 3px 0px hsl(0 0% 0% / 0.05);
    --shadow-xs: 0px 1px 3px 0px hsl(0 0% 0% / 0.05);
    --shadow-sm: 0px 1px 3px 0px hsl(0 0% 0% / 0.10), 0px 1px 2px -1px hsl(0 0% 0% / 0.10);
    --shadow: 0px 1px 3px 0px hsl(0 0% 0% / 0.10), 0px 1px 2px -1px hsl(0 0% 0% / 0.10);
    --shadow-md: 0px 1px 3px 0px hsl(0 0% 0% / 0.10), 0px 2px 4px -1px hsl(0 0% 0% / 0.10);
    --shadow-lg: 0px 1px 3px 0px hsl(0 0% 0% / 0.10), 0px 4px 6px -1px hsl(0 0% 0% / 0.10);
    --shadow-xl: 0px 1px 3px 0px hsl(0 0% 0% / 0.10), 0px 8px 10px -1px hsl(0 0% 0% / 0.10);
    --shadow-2xl: 0px 1px 3px 0px hsl(0 0% 0% / 0.25);
    --tracking-normal: 0em;
    --spacing: 0.25rem;

    /* Gradients using OKLCH primary colors */
    --gradient-primary: linear-gradient(135deg, var(--primary), color-mix(in oklch, var(--primary) 80%, white));
    --gradient-card: linear-gradient(135deg, var(--primary), color-mix(in oklch, var(--primary) 85%, var(--accent)));
    --gradient-balance: var(--gradient-primary);
    --gradient-income: linear-gradient(135deg, #10b981, #34d399);
    --gradient-expense: linear-gradient(135deg, #ef4444, #f87171);

    /* Overlay colors */
    --overlay: oklch(0.1 0 0 / 0.8);
    --overlay-light: oklch(0.9 0 0 / 0.8);

    /* Google mobile spacing */
    --spacing-mobile-xs: 0.25rem;   /* 4px */
    --spacing-mobile-sm: 0.5rem;    /* 8px */
    --spacing-mobile-md: 0.75rem;   /* 12px */
    --spacing-mobile-lg: 1rem;      /* 16px */
    --spacing-mobile-xl: 1.5rem;    /* 24px */
    --spacing-mobile-2xl: 2rem;     /* 32px */

    /* Google typography scale */
    --text-xs-mobile: 0.75rem;      /* 12px */
    --text-sm-mobile: 0.875rem;     /* 14px */
    --text-base-mobile: 1rem;       /* 16px */
    --text-lg-mobile: 1.125rem;     /* 18px */
    --text-xl-mobile: 1.25rem;      /* 20px */
    --text-2xl-mobile: 1.5rem;      /* 24px */
    --text-3xl-mobile: 1.75rem;     /* 28px */
    --text-4xl-mobile: 2rem;        /* 32px */

    /* Google touch targets */
    --touch-target-min: 2.75rem;    /* 44px minimum */
    --touch-target-comfortable: 3rem; /* 48px comfortable */

    /* Google mobile component heights */
    --input-height-mobile: 3rem;    /* 48px */
    --button-height-mobile: 2.25rem; /* 36px - Google style smaller buttons */
    --card-padding-mobile: 1rem;    /* 16px */
    --header-height-mobile: 3.5rem; /* 56px */
  }

  .dark {
    --background: oklch(0.2598 0.0306 262.6666);
    --foreground: oklch(0.9219 0 0);
    --card: oklch(0.3106 0.0301 268.6365);
    --card-foreground: oklch(0.9219 0 0);
    --popover: oklch(0.2900 0.0249 268.3986);
    --popover-foreground: oklch(0.9219 0 0);
    --primary: oklch(0.5357 0.1504 274.4304);
    --primary-foreground: oklch(1.0000 0 0);
    --secondary: oklch(0.3095 0.0266 266.7132);
    --secondary-foreground: oklch(0.9219 0 0);
    --muted: oklch(0.3095 0.0266 266.7132);
    --muted-foreground: oklch(0.7155 0 0);
    --accent: oklch(0.3380 0.0589 267.5867);
    --accent-foreground: oklch(0.8823 0.0571 254.1284);
    --destructive: oklch(0.6368 0.2078 25.3313);
    --destructive-foreground: oklch(1.0000 0 0);
    --success: oklch(0.6891 0.1430 164.2543);
    --success-foreground: oklch(1.0000 0 0);
    --warning: oklch(0.8083 0.1471 85.1247);
    --warning-foreground: oklch(1.0000 0 0);
    --border: oklch(0.3843 0.0301 269.7337);
    --input: oklch(0.3843 0.0301 269.7337);
    --ring: oklch(0.6397 0.1720 36.4421);
    --chart-1: oklch(0.7156 0.0605 248.6845);
    --chart-2: oklch(0.7693 0.0876 34.1875);
    --chart-3: oklch(0.5778 0.0759 254.1573);
    --chart-4: oklch(0.5016 0.0849 259.4902);
    --chart-5: oklch(0.4241 0.0952 264.0306);
    --sidebar: oklch(0.3100 0.0283 267.7408);
    --sidebar-foreground: oklch(0.9219 0 0);
    --sidebar-primary: oklch(0.6397 0.1720 36.4421);
    --sidebar-primary-foreground: oklch(1.0000 0 0);
    --sidebar-accent: oklch(0.3380 0.0589 267.5867);
    --sidebar-accent-foreground: oklch(0.8823 0.0571 254.1284);
    --sidebar-border: oklch(0.3843 0.0301 269.7337);
    --sidebar-ring: oklch(0.6397 0.1720 36.4421);
    --font-sans: Inter, sans-serif;
    --font-serif: Source Serif 4, serif;
    --font-mono: JetBrains Mono, monospace;
    --radius: 0.75rem;
    --shadow-2xs: 0px 1px 3px 0px hsl(0 0% 0% / 0.05);
    --shadow-xs: 0px 1px 3px 0px hsl(0 0% 0% / 0.05);
    --shadow-sm: 0px 1px 3px 0px hsl(0 0% 0% / 0.10), 0px 1px 2px -1px hsl(0 0% 0% / 0.10);
    --shadow: 0px 1px 3px 0px hsl(0 0% 0% / 0.10), 0px 1px 2px -1px hsl(0 0% 0% / 0.10);
    --shadow-md: 0px 1px 3px 0px hsl(0 0% 0% / 0.10), 0px 2px 4px -1px hsl(0 0% 0% / 0.10);
    --shadow-lg: 0px 1px 3px 0px hsl(0 0% 0% / 0.10), 0px 4px 6px -1px hsl(0 0% 0% / 0.10);
    --shadow-xl: 0px 1px 3px 0px hsl(0 0% 0% / 0.10), 0px 8px 10px -1px hsl(0 0% 0% / 0.10);
    --shadow-2xl: 0px 1px 3px 0px hsl(0 0% 0% / 0.25);
  }
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --color-chart-1: var(--chart-1);
  --color-chart-2: var(--chart-2);
  --color-chart-3: var(--chart-3);
  --color-chart-4: var(--chart-4);
  --color-chart-5: var(--chart-5);
  --color-sidebar: var(--sidebar);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);

  --font-sans: var(--font-sans);
  --font-mono: var(--font-mono);
  --font-serif: var(--font-serif);

  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);

  --shadow-2xs: var(--shadow-2xs);
  --shadow-xs: var(--shadow-xs);
  --shadow-sm: var(--shadow-sm);
  --shadow: var(--shadow);
  --shadow-md: var(--shadow-md);
  --shadow-lg: var(--shadow-lg);
  --shadow-xl: var(--shadow-xl);
  --shadow-2xl: var(--shadow-2xl);
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground font-google;
    font-size: var(--text-base-mobile); /* 16px minimum for mobile */
    line-height: 1.5; /* Google Material standard */
    font-weight: 400; /* Google Sans regular weight */
  }

  /* Google Material typography hierarchy */
  h1 {
    font-size: var(--text-3xl-mobile); /* 28px */
    font-weight: 500; /* Google Sans medium for headings */
    line-height: 1.3;
    font-family: 'Google Sans', sans-serif;
  }

  h2 {
    font-size: var(--text-2xl-mobile); /* 24px */
    font-weight: 500;
    line-height: 1.3;
    font-family: 'Google Sans', sans-serif;
  }

  h3 {
    font-size: var(--text-xl-mobile); /* 20px */
    font-weight: 500;
    line-height: 1.4;
    font-family: 'Google Sans', sans-serif;
  }

  h4 {
    font-size: var(--text-lg-mobile); /* 18px */
    font-weight: 500;
    line-height: 1.4;
    font-family: 'Google Sans', sans-serif;
  }

  /* Google-style font sizes */
  .text-xs { font-size: var(--text-xs-mobile) !important; }
  .text-sm { font-size: var(--text-sm-mobile) !important; }
  .text-base { font-size: var(--text-base-mobile) !important; }
  .text-lg { font-size: var(--text-lg-mobile) !important; }
  .text-xl { font-size: var(--text-xl-mobile) !important; }
  
  /* Google Material font weights */
  .font-light { font-weight: 300; }
  .font-normal { font-weight: 400; }
  .font-medium { font-weight: 500; }
  .font-semibold { font-weight: 600; }
  .font-bold { font-weight: 700; }
}

/* iOS PWA Safe Area Support */
@layer utilities {
  .safe-area-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }
  
  .safe-area-top {
    padding-top: env(safe-area-inset-top);
  }
  
  .safe-area-left {
    padding-left: env(safe-area-inset-left);
  }
  
  .safe-area-right {
    padding-right: env(safe-area-inset-right);
  }
  
  /* iOS PWA specific bottom spacing */
  .ios-pwa-bottom {
    padding-bottom: max(env(safe-area-inset-bottom), 0.5rem);
  }
}

/* Design System Component Classes */
@layer components {
  .card-minimal {
    @apply bg-card border shadow-card hover:shadow-elevated transition-all duration-300;
  }
  
  .card-elevated {
    @apply bg-card-elevated shadow-elevated border-0;
  }

  /* Mobile-optimized touch targets - Industry standard 44px minimum */
  .touch-target {
    min-height: var(--touch-target-min);
    min-width: var(--touch-target-min);
    @apply flex items-center justify-center;
  }

  .touch-target-comfortable {
    min-height: var(--touch-target-comfortable);
    min-width: var(--touch-target-comfortable);
    @apply flex items-center justify-center;
  }

  /* Google Material button styles */
  .btn-mobile {
    height: var(--button-height-mobile);
    padding: var(--spacing-mobile-md) var(--spacing-mobile-lg);
    @apply rounded-md font-medium transition-all duration-200 touch-target;
    font-size: var(--text-sm-mobile);
    font-family: 'Google Sans', sans-serif;
    letter-spacing: 0.01em;
  }

  .btn-mobile-large {
    height: var(--touch-target-comfortable);
    padding: var(--spacing-mobile-lg) var(--spacing-mobile-xl);
    @apply rounded-lg font-medium transition-all duration-200;
    font-size: var(--text-lg-mobile);
  }

  /* Mobile card styles - Industry standard spacing */
  .card-mobile {
    padding: var(--card-padding-mobile);
    @apply bg-card rounded-lg shadow-card border border-border/50 transition-all duration-200;
  }

  .card-mobile-compact {
    padding: var(--spacing-mobile-md);
    @apply bg-card rounded-lg shadow-card border border-border/50 transition-all duration-200;
  }

  /* Mobile input styles - 48px height industry standard */
  .input-mobile {
    height: var(--input-height-mobile);
    padding: 0 var(--spacing-mobile-lg);
    font-size: var(--text-base-mobile);
    @apply rounded-lg border border-input bg-background;
  }

  /* Mobile navigation styles */
  .nav-mobile {
    height: var(--header-height-mobile);
    padding: 0 var(--spacing-mobile-lg);
    @apply flex items-center justify-between;
  }

  /* Mobile list item - proper touch target */
  .list-item-mobile {
    min-height: var(--touch-target-min);
    padding: var(--spacing-mobile-md) var(--spacing-mobile-lg);
    @apply flex items-center transition-colors duration-200;
  }
}
